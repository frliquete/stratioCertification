{"id":"a686841d-2a50-4640-9b2d-c6f0334be520","name":"002-model-test","description":"","settings":{"global":{"executionMode":"marathon","userPluginsJars":[],"preExecutionSqlSentences":[],"postExecutionSqlSentences":[],"addAllUploadedPlugins":true,"mesosConstraintOperator":"CLUSTER","parametersLists":["Environment"],"parametersUsed":["Global.SPARK_CORES_MAX","Global.SPARK_DRIVER_CORES","Global.SPARK_DRIVER_JAVA_OPTIONS","Global.SPARK_DRIVER_MEMORY","Global.SPARK_EXECUTOR_CORES","Global.SPARK_EXECUTOR_EXTRA_JAVA_OPTIONS","Global.SPARK_EXECUTOR_MEMORY","Global.SPARK_LOCALITY_WAIT","Global.SPARK_LOCAL_PATH","Global.SPARK_MEMORY_FRACTION","Global.SPARK_STREAMING_BLOCK_INTERVAL","Global.SPARK_STREAMING_CHECKPOINT_PATH","Global.SPARK_STREAMING_WINDOW","Global.SPARK_TASK_MAX_FAILURES"],"udfsToRegister":[],"udafsToRegister":[],"marathonDeploymentSettings":{"gracePeriodSeconds":"240","intervalSeconds":"20","timeoutSeconds":"20","maxConsecutiveFailures":"3","forcePullImage":true,"privileged":false,"userEnvVariables":[],"userLabels":[]},"enableQualityRules":true},"streamingSettings":{"window":"{{{Global.SPARK_STREAMING_WINDOW}}}","blockInterval":"{{{Global.SPARK_STREAMING_BLOCK_INTERVAL}}}","stopGracefully":true,"checkpointSettings":{"checkpointPath":"{{{Global.SPARK_STREAMING_CHECKPOINT_PATH}}}","enableCheckpointing":true,"autoDeleteCheckpoint":true,"addTimeToCheckpointPath":false}},"sparkSettings":{"master":"mesos://zk://master.mesos:2181/mesos","sparkKerberos":true,"sparkDataStoreTls":true,"sparkMesosSecurity":true,"submitArguments":{"userArguments":[],"deployMode":"client","driverJavaOptions":"{{{Global.SPARK_DRIVER_JAVA_OPTIONS}}}"},"sparkConf":{"sparkResourcesConf":{"coresMax":"{{{Global.SPARK_CORES_MAX}}}","executorMemory":"{{{Global.SPARK_EXECUTOR_MEMORY}}}","executorCores":"{{{Global.SPARK_EXECUTOR_CORES}}}","driverCores":"{{{Global.SPARK_DRIVER_CORES}}}","driverMemory":"{{{Global.SPARK_DRIVER_MEMORY}}}","localityWait":"{{{Global.SPARK_LOCALITY_WAIT}}}","taskMaxFailures":"{{{Global.SPARK_TASK_MAX_FAILURES}}}","sparkMemoryFraction":"{{{Global.SPARK_MEMORY_FRACTION}}}"},"sparkHistoryServerConf":{"enableHistoryServerMonitoring":false,"sparkHistoryServerEventLogRotateEnable":false,"sparkHistoryServerEventLogRotateNum":"9","sparkHistoryServerEventLogRotateSize":"512"},"userSparkConf":[],"coarse":true,"sparkLocalDir":"{{{Global.SPARK_LOCAL_PATH}}}","sparkSqlCaseSensitive":true,"hdfsTokenCache":true,"executorExtraJavaOptions":"{{{Global.SPARK_EXECUTOR_EXTRA_JAVA_OPTIONS}}}"}},"errorsManagement":{"genericErrorManagement":{"whenError":"Error"},"transformationStepsManagement":{"whenError":"Error","whenRowError":"RowError","whenFieldError":"FieldError"},"transactionsManagement":{"sendToOutputs":[],"sendStepData":false,"sendPredecessorsData":true,"sendInputData":true}}},"pipelineGraph":{"nodes":[{"name":"Crossdata","stepType":"Input","className":"CrossdataInputStep","classPrettyName":"Crossdata","arity":["NullaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":524,"y":31}},"configuration":{"query":"select \nhousing,\n risk ,\n saving_accounts,\n sex,\n purpose,\n checking_account,\n  cast ( duration as integer),\n  cast (children as integer) ,\n  cast (job as integer),\n cast (year as integer) ,\n  cast (age as integer),\n  cast (current_debt as integer),\n  cast (credit_amount as integer) from risk_scoring  where children is not null limit 10\n ","tlsEnabled":true,"debugOptions":"{\"query\":\"select \\nhousing,\\n risk ,\\n saving_accounts,\\n sex,\\n purpose,\\n checking_account,\\n  cast ( duration as integer),\\n  cast (children as integer) ,\\n  cast (job as integer),\\n cast (year as integer) ,\\n  cast (age as integer),\\n  cast (current_debt as integer),\\n  cast (credit_amount as integer) from risk_scoring  where children is not null limit 10\"}"},"supportedEngines":["Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"linearRegresionModel","stepType":"Transformation","className":"MlModelTransformStep","classPrettyName":"MlModel","arity":["UnaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":163,"y":101}},"configuration":{"selectMlType":"ML_MODEL_URL","model":"risk-linearegresor","inputSchemas":"[]"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"Linear","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":-60,"y":102}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"warn"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]},{"name":"GBTRegresionModel","stepType":"Transformation","className":"MlModelTransformStep","classPrettyName":"MlModel","arity":["UnaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":162.3292736979211,"y":219.8250050671416}},"configuration":{"selectMlType":"ML_MODEL_URL","model":"risk-gbtregresor","inputSchemas":"[]"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"GBTRegresion","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":-61.67072630207893,"y":216.8250050671416}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"warn"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]},{"name":"logisticRegresionModel","stepType":"Transformation","className":"MlModelTransformStep","classPrettyName":"MlModel","arity":["UnaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":164.3292736979211,"y":-13.17499493285844}},"configuration":{"selectMlType":"ML_MODEL_URL","model":"risk-logistcregresor","inputSchemas":"[]"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"LogisticRegresion","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":-57.67072630207893,"y":-15.174994932858446}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"warn"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]},{"name":"randomForestRegresionModel","stepType":"Transformation","className":"MlModelTransformStep","classPrettyName":"MlModel","arity":["UnaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":160.32927369792105,"y":347.82500506714155}},"configuration":{"selectMlType":"ML_MODEL_URL","model":"risk-radomforest-regresor","inputSchemas":"[]"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"randomForest","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":-61.670726302079004,"y":345.82500506714155}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"warn"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]},{"name":"KMeansClusteringModel","stepType":"Transformation","className":"MlModelTransformStep","classPrettyName":"MlModel","arity":["UnaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":846.7192307992157,"y":365.6634173854655}},"configuration":{"selectMlType":"ML_MODEL_URL","model":"risk-kmeans-clustering","inputSchemas":"[]"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"KMeansCluster","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":1047.8631412935413,"y":364.74075212824545}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"warn"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]},{"name":"comparativa","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":524.3537121652939,"y":375.77111209075565}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"warn"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]},{"name":"NaiveBayesModel","stepType":"Transformation","className":"MlModelTransformStep","classPrettyName":"MlModel","arity":["UnaryToNary"],"writer":{"saveMode":"Append","tableName":"","partitionBy":"","errorTableName":"","discardTableName":""},"uiConfiguration":{"position":{"x":832.3374104906381,"y":53.1991585413991}},"configuration":{"selectMlType":"ML_MODEL_URL","model":"risk-naivebayes-clasification","inputSchemas":"[]"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","supportedDataRelations":["ValidData"],"lineageProperties":[]},{"name":"NaiveBayesClasification","stepType":"Output","className":"PrintOutputStep","classPrettyName":"Print","arity":["NullaryToNullary","NaryToNullary"],"writer":{"saveMode":"Append"},"uiConfiguration":{"position":{"x":1020.3374104906384,"y":53.19915854139913}},"configuration":{"printData":true,"printSchema":true,"errorSink":false,"printMetadata":true,"logLevel":"info"},"supportedEngines":["Streaming","Batch"],"executionEngine":"Batch","lineageProperties":[]}],"edges":[{"origin":"Crossdata","destination":"linearRegresionModel","dataType":"ValidData"},{"origin":"linearRegresionModel","destination":"Linear","dataType":"ValidData"},{"origin":"Crossdata","destination":"GBTRegresionModel","dataType":"ValidData"},{"origin":"GBTRegresionModel","destination":"GBTRegresion","dataType":"ValidData"},{"origin":"Crossdata","destination":"logisticRegresionModel","dataType":"ValidData"},{"origin":"logisticRegresionModel","destination":"LogisticRegresion","dataType":"ValidData"},{"origin":"randomForestRegresionModel","destination":"randomForest","dataType":"ValidData"},{"origin":"Crossdata","destination":"randomForestRegresionModel","dataType":"ValidData"},{"origin":"Crossdata","destination":"KMeansClusteringModel","dataType":"ValidData"},{"origin":"KMeansClusteringModel","destination":"KMeansCluster","dataType":"ValidData"},{"origin":"randomForestRegresionModel","destination":"comparativa","dataType":"ValidData"},{"origin":"GBTRegresionModel","destination":"comparativa","dataType":"ValidData"},{"origin":"linearRegresionModel","destination":"comparativa","dataType":"ValidData"},{"origin":"logisticRegresionModel","destination":"comparativa","dataType":"ValidData"},{"origin":"KMeansClusteringModel","destination":"comparativa","dataType":"ValidData"},{"origin":"Crossdata","destination":"NaiveBayesModel","dataType":"ValidData"},{"origin":"NaiveBayesModel","destination":"NaiveBayesClasification","dataType":"ValidData"},{"origin":"NaiveBayesModel","destination":"comparativa","dataType":"ValidData"}]},"executionEngine":"Batch","uiSettings":{"position":{"x":101.6625895093623,"y":71.80084145860098,"k":0.9999999999999992}},"lastUpdateDate":"2019-12-10T13:02:15Z","version":1,"group":{"id":"a1c156b1-ccf8-44c7-b684-e26c0964ed2d","name":"/home/use-cases/risk-scoring/streaming-risk-scoring"},"debugMode":false,"versionSparta":"2.9.0-9dee11d","groupId":"a1c156b1-ccf8-44c7-b684-e26c0964ed2d"}